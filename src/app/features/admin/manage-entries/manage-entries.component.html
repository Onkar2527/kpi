<div class="container mt-4">
    <h2>Manage KPI Entries</h2>

  <div class="mb-3">
    <input type="text" class="form-control" placeholder="Search..." [(ngModel)]="searchTerm" (ngModelChange)="onSearch()">
  </div>

  
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Period</th>
        <th>KPI</th>
        <th>Account No</th>
        <th>Value</th>
        <th>Date</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let entry of paginatedEntries">
        <td>{{ entry.period }}</td>
        <td>{{ entry.kpi }}</td>
        <td>{{ entry.account_no }}</td>
        <td>{{ entry.value }}</td>
        <td>{{ entry.date | date:'dd-MM-yyyy' }}</td>
        <td>{{ entry.status }}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="deleteEntry(entry.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

 <nav *ngIf="totalPages > 1">
  <ul class="pagination justify-content-center">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <a class="page-link" href="#" (click)="goToPage($event, currentPage - 1)">Previous</a>
    </li>

    <li
      class="page-item"
      *ngFor="let page of visiblePages"
      [class.active]="currentPage === page"
    >  
      <a class="page-link" href="#" (click)="goToPage($event, page)">{{ page }}</a>
    </li>

    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <a class="page-link" href="#" (click)="goToPage($event, currentPage + 1)">Next</a>
    </li>
  </ul>
</nav>

</div>
